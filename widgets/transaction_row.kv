# transaction_row.kv

<TransactionRow>:
    orientation: 'horizontal'
    size_hint_y: None
    height: 100
    padding: 10
    spacing: 5

    canvas.before:
        Color:
            rgba: (0.2, 0.2, 0.2, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [5]

    Label:
        # These properties use the values passed from the Python class.
        text: root.tx_text
        color: root.color
        size_hint_x: 0.9
        text_size: self.size  # This is the key to text wrapping
        halign: 'left'
        valign: 'middle'

    Button:
        id: menu_button # We need an ID to reference this in Python
        text: '...'
        size_hint_x: 0.1
        background_normal: ''
        background_color: (0.4, 0.4, 0.4, 1)
        on_release: root.open_menu() # Call the new open_menu method